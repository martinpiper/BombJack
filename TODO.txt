* Badges : https://twitter.com/RBadgeman/status/1547111545213181952
	https://twitter.com/RBadgeman
	Define kJustForLogo


* SMT options:
	https://macrofab.com/blog/bypass-caps-decouple-your-way-to-cleaner-power/
		"In many cases the datasheet for an IC will give a recommended value for the capacitor. If no value is suggested, 0.1uF (100nF) is widely accepted as a standard go-to value. For most designs, a standard ceramic 0402, 0603, or 0805 package size will typically work well as a bypass cap."
	AgonLight BOM has: https://raw.githubusercontent.com/TheByteAttic/AgonLight/main/Manufacturing/BOM_PCB_AgonLight_R1.0%20MINIMAL.csv
		C11		SAMSUNG,CL05B104KO5NNNC,100nF,C1525	>> Like the current decouple capacitors
		C15		SAMSUNG,CL05A106MQ5NUNC,10ÂµF,C15525 LCSC,C0402
		** Check voltages for the above
		Note multiple decoupling capacitors (and inductor) top left: https://youtu.be/1gVx7XcETuM?t=994
	** Need to check the footprint from data sheets and add suitable options with caps to: SocketsWithCaps.pdsprj
		Check in Proteus packages for SOIC (20) and SO (20) for example
		9.3 mm or 9.3 mm width for example...
		https://www.ti.com/lit/ds/symlink/sn74ls373.pdf?HQS=dis-mous-null-mousermode-dsf-pf-null-wwe&ts=1657457875796&ref_url=https%253A%252F%252Fwww.mouser.sg%252F
		This package has pads that closely match the 0.6 mm x 2 mm pads: SOIC127P1032X265-20
		It has 24x79 thou pads...
		For example, test created: SOIC127P1032X265-20-CAPC1005X55N
			By using the package from CL05B104KO5NNNC
	** Create a new CODESMT entry for each part for the ordering link
	** Check 3 TI parts with their SMT
		Their pads were made slightly wider and longer to match the data sheets
		SMTCODE	SMTPACKAGE	Proteus package	Data sheet
		https://www.mouser.sg/ProductDetail/Texas-Instruments/SN74LS374DBR?qs=SL3LIuy2dWz11ywxrLmk0A%3D%3D	SSOP DB 20	SSOP20TI	https://www.ti.com/lit/ds/symlink/sn74ls374.pdf?HQS=dis-mous-null-mousermode-dsf-pf-null-wwe&ts=1658839044091&ref_url=https%253A%252F%252Fwww.mouser.sg%252F
		https://www.mouser.sg/ProductDetail/Texas-Instruments/SN74LS04DBR?qs=yajEpaT76uTkIEJSyxTAVA%3D%3D	SSOP DB 14	SSOP14TI	https://www.ti.com/lit/ds/symlink/sn74ls04.pdf?HQS=dis-mous-null-mousermode-dsf-pf-null-wwe&ts=1658819899855&ref_url=https%253A%252F%252Fwww.mouser.in%252F
		https://www.mouser.sg/ProductDetail/Texas-Instruments/SN74LS374DBR?qs=SL3LIuy2dWz11ywxrLmk0A%3D%3D	SSOP DB 20	SSOP20TI	https://www.ti.com/lit/ds/symlink/sn74ls374.pdf?HQS=dis-mous-null-mousermode-dsf-pf-null-wwe&ts=1658839044091&ref_url=https%253A%252F%252Fwww.mouser.sg%252F




* Researching power supplies:
	Recommendations for Mean Well: https://www.retrorgb.com/budget-arcade-power-supplies-unmasked.html
	https://www.mouser.sg/c/power/power-supplies/switching-power-supplies/?m=MEAN%20WELL&open%20frame%2Fenclosed=Enclosed&output%20voltage-channel%201=5%20VDC&output%20voltage-channel%202=12%20VDC
	3-4 outputs: https://www.mouser.sg/c/power/power-supplies/switching-power-supplies/?m=MEAN%20WELL&number%20of%20outputs=3%20Output~~4%20Output&open%20frame%2Fenclosed=Enclosed&output%20voltage-channel%201=5%20VDC&output%20voltage-channel%202=12%20VDC&sort=number%20of%20outputs&rp=power%2Fpower-supplies%2Fswitching-power-supplies%7C~Number%20of%20Outputs
	125W++ https://www.mouser.sg/c/power/power-supplies/switching-power-supplies/?m=MEAN%20WELL&number%20of%20outputs=3%20Output~~4%20Output&open%20frame%2Fenclosed=Enclosed&output%20power=125%20W~~316%20W&output%20voltage-channel%201=5%20VDC&output%20voltage-channel%202=12%20VDC&sort=number%20of%20outputs&rp=power%2Fpower-supplies%2Fswitching-power-supplies%7C~Number%20of%20Outputs%7C~Output%20Power
	* Remember to use **regulated** supplies
	* +5V and +12V needed for Bomb Jack
	** Going for this one: https://www.mouser.sg/ProductDetail/MEAN-WELL/RT-125B?qs=l0g2inPJSHMdRKvDbtGuSg%3D%3D
		It has a high 5V output power and also has +12V/-12V.



* Original Bomb Jack harness:
	* Original video connector looks like: S6P-SHF-1 2.5mm pitch
	https://www.arcadexpress.com/en/jamma/350-adaptador-jamma-para-juegos-tehkan-world-classics.html
	https://www.arcadexpress.com/en/arcade/30-313-cableado-jamma-de-28pins.html
	https://www.arcadexpress.com/en/arcade/37-11937-conector-para-cable-jamma-de-56-pines.html




		
* Case: https://twitter.com/MartinPiper/status/1522241048059150340
	300mm x 250mm x 180mm (at least)
	11.8in x 9.8in x 7.1in
	https://www.mouser.sg/c/enclosures/enclosures-boxes-cases/?height=7.09%20in~~54.85%20in&length=254%20mm~~54.85%20in&material=Polycarbonate%20%28PC%29&width=300%20mm~~24.8%20in&instock=y&rp=enclosures%2Fenclosures-boxes-cases%7C~Length%7C~Width%7C~Height
	https://www.mouser.sg/ProductDetail/Bud-Industries/DPH-28713?qs=A6eO%252BMLsxmRK3FPlq5Lpxg%3D%3D
	


* Audio: 3.5 mm jack voltage levels, need to be -ve to +ve voltages, not the 0 to +ve voltage as it is currently
	This shows some examples of providing a suitable REFMID voltage: BombJack\TTL to SCART resistor ladder.pdsprj
	For the final resistor 75 ohms looks good, near the volt meters: https://www.mouser.sg/c/passive-components/resistors/film-resistors/metal-film-resistors-through-hole/?m=Vishay&product=Metal%20Film%20Resistors%20Controlled%20Temp%20Coefficient&series=CMF%20Industrial&termination%20style=Axial&tolerance=1%20%25&type=Industrial%20Grade%20Precision%20Metal%20Film%20Resistor&voltage%20rating=250%20V&instock=y
	This REFMId would need similar structure for the Audio schematic
	The 100ohm trimmer resistor is also out of stock, options for replacements: https://www.mouser.sg/c/passive-components/potentiometers-trimmers-rheostats/trimmer-resistors-through-hole/?series=3006&instock=y
		** Pay close attention to pin/package dimensions
		Removed from layout
	https://www.mouser.sg/c/passive-components/potentiometers-trimmers-rheostats/trimmer-resistors-through-hole/?resistance=100%20Ohms&series=3006&instock=y
	Calculate R-2R: http://www.aaabbb.de/JDAC/DAC_R2R_network_calculation_en.php
		R1 = 221
		R2 = 442
		RL = 75		= ~1.25V
		RL = 10000	= ~4.9V
	** Might need filtering caps? Reference original schematic.




* Ceramic capacitors for filters: https://twitter.com/MartinPiper/status/1514627903647993856
	Dedicated opamp for audio instead?
	Also perhaps useful for the video output?

	http://www.learningaboutelectronics.com/Articles/Filter-capacitor.php
	https://learn.sparkfun.com/tutorials/capacitors/application-examples
	https://www.arrow.com/en/research-and-events/articles/using-capacitors-to-filter-electrical-noise
	
		https://www.mouser.sg/c/passive-components/capacitors/ceramic-capacitors/?capacitance=20%20uF~~470%20uF&termination%20style=Axial~~Radial%7C~Through%20Hole&voltage%20rating%20dc=6.3%20VDC~~100%20VDC&instock=y&sort=capacitance%7C1&rp=passive-components%2Fcapacitors%2Fceramic-capacitors%7C~Termination%20Style%7C~Capacitance%7C~Voltage%20Rating%20DC
		
	* However for Road Blasters https://www.arcade-museum.com/manuals-videogames/R/Road%20Blasters%20Schematic%20Package.pdf
		Page 11 shows 470 pf to ground on the RGB (lower right corner)
		

	* Spy Hunter https://www.jammarcade.net/files/Schematics/Arcade/Spy%20Hunter.pdf
		Page 43 bottom right shows 47pf C128 50V AX CER (axial ceramic?) to ground with ferrite beads
			https://www.mouser.sg/c/passive-components/capacitors/ceramic-capacitors/mlccs-multilayer-ceramic-capacitors/multilayer-ceramic-capacitors-mlcc-leaded/?capacitance=47%20pF&termination%20style=Axial&voltage%20rating%20dc=50%20VDC&instock=y
			https://www.mouser.sg/ProductDetail/Hitachi-Metals/FT-3AM-B4ARLY-PF?qs=0lSvoLzn4L9HT5vJRSDFaw%3D%3D
		


* Try recording a high resolution APU bus sample using the DG?



* Now the APU DG timing is fixed, perhaps revisit the _OE logic removal on all other video areas



* APU: Remove instruction RAM _OE logic




* APU: The instruction memory is not limited to 8KB, since it is mapped to $8000
	Using a better select it would be possible to widen the instructions to 64 bits
	This would allow more register selects, ALU operations, status register, indirected selects and branching options
	It would also allow 8 bits to be spent on immediate load values from the instruction



* Sprites2: If I double the RAMs used for storing scaled sprite registers, I can load 2x8 bits in parallel and draw more data.



* Hardware multiply?
	result = 0
	for(b = 0 to 31)
	{
		// Or use bit select, or value shift per iteration...
		if( ((y >> b) & 1) != 0)
		{
			// Use value shift per iteration...
			result = result + (x << b)
		}
	}
* Hardware edge trace?
	https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm#Algorithm_for_integer_arithmetic




* Audio - Check how many ICs/gates need to maintain state for each voice. Compare with remaining ICs/gates used for calculation and interface to the common address bus
	Estimate if there is saving to reduce the rest of the voice calculation to common functionality and state gates with selection logic



* Sprites3
	Choose scale table (allows the root2 or unscaled table to be chosen, useful if the corners of the rotated sprite are not that important) and ignore X/Y boundaries for tiling up to the sprite edge bit flags
	


* Check if constant _OE can be used on all 6116 and 6264 chips instead of toggling them
	Video board shows logic contentions, but data writes seem to still be OK




* Kobiconn plugs are obsolete and need replacing
	https://www.mouser.sg/ProductDetail/Kobiconn/161-0097-E?qs=XvXsANjzvCPrZr5AKzRXng%3D%3D
	removed from V8.0 BOM


* Video: The analogue signals between the resistor ladders and their headers could benefit from being manually placed with wider gaps?
	Also the VGA and 2x4 header output could benefit from being closer to the resistor ladders?



* Audio: Perhaps widen the resistor ladders and separate the analogue output, much like the video board usage of keepout areas



* Plastic (PDIP) 6116 (6116SA20TDB) 2Kx8 SRAM 20ns is going end of life
	EoL notice: https://www.mouser.sg/ProductDetail/IDT/6116SA20TPGI?qs=sGAEpiMZZMt9mBA6nIyysK6VW3GrAnba45Kc6Apw0Go%3D
	https://www.renesas.com/us/en/products/memory-logic/srams/asynchronous-srams
	https://www.renesas.com/us/en/products/memory-logic/srams/asynchronous-srams?field-organization=2K%20x%208&method-field-organization=OR
	The ceramic (CDIP) parts however (search for A20) are still continued
	https://www.renesas.com/us/en/products/memory-logic/srams/asynchronous-srams/5962-89690-50v-2k-x-8-asynchronous-static-ram
	All sizes https://www.mouser.sg/c/semiconductors/memory-ics/sram/?interface%20type=Parallel&mounting%20style=Through%20Hole&organization=1%20k%20x%208%7C~2%20k%20x%208%7C~4%20k%20x%208%7C~8%20k%20x%208%7C~16%20k%20x%208&supply%20voltage%20-%20max=5.5%20V
	** 16k https://www.mouser.sg/c/semiconductors/memory-ics/sram/?interface%20type=Parallel&memory%20size=16%20kbit&mounting%20style=Through%20Hole&organization=1%20k%20x%208%7C~2%20k%20x%208%7C~4%20k%20x%208%7C~8%20k%20x%208%7C~16%20k%20x%208&supply%20voltage%20-%20max=5.5%20V
	** 20ns https://www.mouser.sg/c/semiconductors/memory-ics/sram/?access%20time=20%20ns&interface%20type=Parallel&memory%20size=16%20kbit&mounting%20style=Through%20Hole&organization=1%20k%20x%208%7C~2%20k%20x%208%7C~4%20k%20x%208%7C~8%20k%20x%208%7C~16%20k%20x%208&supply%20voltage%20-%20max=5.5%20V&sort=access%20time
	
	
	
* Sprites3
* Scaled sprite rotation, if the EPROM is too slow, then split the pixel output across two clocks?
	There would need to be some latches for the second part of the output path, to ensure that the next sprite being read (during the attribute read) does not affect the final values being written
		Or simpler to pass through the reset logic signal to the last part of the pixel output, which would increase the end period between one sprite and the next sprite reads by one clock as the pixels are flushed...
	2 x 64KB EPROMS, for X and Y rot, the high bit in one of the EPROMS would indicate if the result it out of the sprite bounds or not
	Possible to have different X/Y rotations? Which would generate some skews?
		Doesn't look good...
	https://segaretro.org/Sega_X_Board
		Sprite pixels/texels per frame: 833,333 (at 60 Hz) to 838,408 (at 59.6368 Hz)
		Sprite pixels/texels per scanline: 3180 to 3200 sprite pixels/texels per scanline
		Sprites/textures per scanline: 256
	https://github.com/bji/libmame/blob/master/old/src/mame/video/segaic16.c
	https://github.com/bji/libmame/blob/master/old/src/mame/video/sega16sp.c#L1059
	Perhaps the sprite index high bit could signify sqrt(2) corrected scales to avoid sprite edges
		Meaning select different rotation EPROMs...
		Allowing the full 256 rotations to be used in the lookup
		Plus full 8 bits used for X/Y coords...
		Hmm X and Y would need to be used, or would need multiply lookups for separate X and Y with adds, which doubles IC count...
		Plus X/Y coordinate correction EPROMs based on rotation...





* The single cycle low pulse for "end of hblank" as well as "start of hblank" could be exposed via the backplane




* Sprites2: Try reducing the time needed to read the registers, by not having the memory rest periods before the latches
	Initial test didn't work so well, looks like the calculations and loads went wrong




* Audio: DAC to opamp output: http://users.ece.utexas.edu/~valvano/Volume1/E-Book/C13_DACSound.htm
	Page 6 https://www.nxp.com/docs/en/data-sheet/TDA7050T.pdf
	https://www.electronics-tutorials.ws/combination/r-2r-dac.html



* DAC options?
	TLC5602CDW	Digital to Analog Converters - DAC 8bit 30Msps 1ch 5V
	Also: https://www.mouser.sg/c/semiconductors/data-converter-ics/digital-to-analog-converters-dac/?interface%20type=Parallel&mounting%20style=Through%20Hole&number%20of%20channels=1%20Channel&output%20type=Voltage%20Buffered&resolution=8%20bit&sampling%20rate=30%20MS%2Fs~~-&rp=semiconductors%2Fdata-converter-ics%2Fdigital-to-analog-converters-dac%7C~Sampling%20Rate




* Consider a "hat" board for each voice, using a common bus interfacing with the main logic board
	Each hat would have a signal to select it from the voice schedule




* For the video combination layer, for each pixel input, perhaps add a pixel XOR value that can be used to introduce fast changing palette effects?
	This would be very useful for road layer palette cycling effects: 		http://www.extentofthejam.com/pseudo/#hw
	Or an alternative would be to have the tiles layer have two roads of course. Perhaps a copy of the first road but with different palette for the second.
	https://www.spriters-resource.com/arcade/outrun/




* User port layout : Consider moving the ribbon cable header to the bus edge

* User port: For the Raspberry Pi interface it is useful to have the 5V from the C64 drive the 5V side of the level shifters
	This would need an extra line for the C64 5V and call the net "C645V", be careful not to connect it to the 5V on the externally powered user port interface!
	Adafruit. Sparkfun. TXB0108



* USB logic analyser and data generator: https://www.linkinstruments.com/logana32.html



* Any way to use the connectivity report to assert for fan out limits for LS and HCT part inputs?



* Clock/video lines may need some buffering / extension with 74ls240 or similar for some of the larger boards due to the LS limit of 10 fan-out
	Design Explorer
	Main menu->View->Netlist view
		Then move up/down the netlist entries for each root sheet checking the size
		Sort the netlist table view by "Type" and monitor the number of inputs
	Potential problems:
		6MHz
		_MEWR
		EA*
		ED*




* https://www.mythtv.org/wiki/RGB_Scart
	Generating CSYNC from HSYNC+VSYNC
	https://en.wikipedia.org/wiki/Component_video_sync





* For the mode7 register latches, it might be better to only latch on the HH byte write, but this would use an additional 3*6 latches, which would be too much.
	This would allow updates at any point in the scanline, with the copper. At the moment a write to the l/h/hh registers cannot happen in one pixel clock so the added value will be partially updated and used.



* Idea for new layer, scaled rotated sprites
	Setup sprite data x/y/dx/dxy/dy/dyx like mode7, plus a screen top left x/y plus width/height bounding box to iterate.
	It spits out pixels into the screen buffer and signals when it's done
		* This signal would need the ability to read values over the user port interface
	And could optionally hop into the next item in a link list... and signal the end of the link list
		the mode7 render got me thinking, because the circuitry only really differs in the "fetch a tile index from the screen memory" side of things
		So basically rendering a rotated quad outside the edges test becomes "is the X and Y tile position = 0" instead of "fetch tile index"
		If it's outside the edges then don't plot pixels
	* Could have one pixel push pipeline, that ends up writing to two RAMs, where the address is selected as the screen display (in read mode) or the write address from the calculation (in write mode)
		So 2 input 1 output selectors for the address.




* Need a simple bottom left |_ tile, then position this in the four corners with suitable H/V flips to allow the maximum pixel extent to be validated
	Then validate the border shrinks






* Need DigitalDisplay frame recording and verification of displayed frame with recorded frame.
	Pixel by pixel tests. Can display if the current frame as it is being built up matches the recording, or not.
	Highlight areas that don't match?
	
	

* Need the DigitalData model to also verify a recording against what it currently detects.
	It can also display if what it has received so far matches the recording.



* Need to update ReadMe to reflect new design




	


