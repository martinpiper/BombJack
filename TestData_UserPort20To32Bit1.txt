;$00000100 = DDR set to input from the C64
;$00010000 = _PC
;$01000000 = SP1
;$02000000 = SP2
;$04000000 = SERIALATN
;$08000000 = PA2
;$80000000 = Break point

; During power-on reset
d$00010000
d$00010001
d$00010002
d$00010003
d$00010004

; After power-on reset
; Default is pass-through mode, these inputs should be seen at the output, as long as latch7 isn't altered
d$08010000
d$08010001
d$00010002
d$00010003

d$08010000
d$08010001
d$08000001
d$08010001

d$08010001
d$08010002
d$08000002
d$08010002

d$08010002
d$08010003
d$08000003
d$08010003

; Set latch7 - Disable pass-through
d$07010004
d$07000002
d$07010002

; Set adders
d$08010018
d$08000018
d$08010018
d$09010001
d$09000001
d$09010001
d$0a010000
d$0a000000
d$0a010000


; Set latch0
d$00010004
d$00000037
d$00010037

; Set latch1
d$01010037
d$01000001
d$01010001

; Set latch6 (Write RAM)
d$06010000
; Write $23
d$06000023
d$06010023
; Write $34
d$06000034
d$06010034
; Write $17
d$06000017
d$06010017
; Write $98
d$06000098
d$06010098


; Reset address...
d$00010004
; Set latch0 = $37
d$00000037
d$00010037

; Set latch1
d$01010037
; Set latch0 = $01
d$01000001
d$01010001

; Simulate C64 side setting user port DDR
d$01010101

; Set latch5
d$05010101
; "Write" latch5 (Read RAM)
d$05000100
d$05010100

d$05000100
d$05010100

d$05000100
d$05010100

d$05000100
d$05010100


; Write to latch3 which should read the added address...
d$03010000
d$03000000
d$03010000


; Set latch6 (Write RAM) continuing with the last read address
d$06010000
; Write $11
d$06000011
d$06010011
; Write $22
d$06000022
d$06010022
; Write $33
d$06000033
d$06010033
; Write $44
d$06000044
d$06010044


; Reset address...
d$00010004
; Set latch0 = $37
d$00000037
d$00010037

; Set latch1
d$01010037
; Set latch0 = $01
d$01000001
d$01010001

; Set latch7 - Enable pass-through
; When altering the pass-through operation via latch 7, do not track its _PC signal.

d$07010000
d$07000000
d$07010000

; Latch 7 bits
; $01	Choose RAM
; $02	Pass-through disable
; $04	Internal PA2


; PA2 toggle twice
; Note: Latch7 controls internal PA2
d$07000006
d$07010006
d$07000002
d$07010002
d$07000006
d$07010006
d$07000002
d$07010002

; Break
;d$80000000

; Write some direct bytes to the pass-through with latch4, only when using "$02	Pass-through disable"
d$04010011
d$04000011
d$04010022
d$04000022
d$04010033
d$04000033
d$04010044
d$04000044


; Set latch7 - Enable RAM to pass-through
d$07010001
d$07000001
d$07010001


; Simulate C64 side setting user port DDR
d$07010101

; Set latch5
d$05010101
; "Write" latch5 (Read RAM)
d$05000100
d$05010100

d$05000100
d$05010100

d$05000100
d$05010100

d$05000100
d$05010100

; Read from latch3 which should read the added address...
d$03010100
d$03000100
d$03010100

d$05010100
d$05000100
d$05010100

d$05000100
d$05010100

d$05000100
d$05010100

d$05000100
d$05010100
